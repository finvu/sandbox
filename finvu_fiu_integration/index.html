



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.4, mkdocs-material-2.9.2">
    
    
      
        <title>Integrating with Finvu FIU - Finvu API Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#integrating-with-finvu-fiu-module" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Finvu API Docs" class="md-header-nav__button md-logo">
          
            <img src="../images/finvu_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Finvu API Docs
              </span>
              <span class="md-header-nav__topic">
                Integrating with Finvu FIU
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../images/finvu_logo.png" width="48" height="48">
      
    </span>
    Finvu API Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../get_started/" title="Get Started" class="md-nav__link">
      Get Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../finvu_aa_integration/" title="Integration with Finvu AA" class="md-nav__link">
      Integration with Finvu AA
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Integrating with Finvu FIU
      </label>
    
    <a href="./" title="Integrating with Finvu FIU" class="md-nav__link md-nav__link--active">
      Integrating with Finvu FIU
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#finvu-fiu-endpoint" title="Finvu FIU Endpoint" class="md-nav__link">
    Finvu FIU Endpoint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" title="Pre-Requisites" class="md-nav__link">
    Pre-Requisites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-registration-of-user" title="Step 1. Registration of user" class="md-nav__link">
    Step 1. Registration of user
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-headers-to-be-set-for-every-api-request" title="Request headers (To be set for every API request)" class="md-nav__link">
    Request headers (To be set for every API request)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-login-user-to-get-the-api-token" title="Step 2. Login user to get the API token" class="md-nav__link">
    Step 2. Login user to get the API token
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-headers-to-be-set-for-every-api-request_1" title="Request headers (To be set for every API request)" class="md-nav__link">
    Request headers (To be set for every API request)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-consent-template" title="Create a Consent Template" class="md-nav__link">
    Create a Consent Template
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-consent-template" title="Step 1. Create a consent template" class="md-nav__link">
    Step 1. Create a consent template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-approve-the-consent-template" title="Step 2. Approve the consent template" class="md-nav__link">
    Step 2. Approve the consent template
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-consent-for-user-to-approve" title="Request Consent for user to approve" class="md-nav__link">
    Request Consent for user to approve
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-status-of-consent-request" title="Check status of Consent Request" class="md-nav__link">
    Check status of Consent Request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-request" title="Data request" class="md-nav__link">
    Data request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-status-of-data-request" title="Check status of Data Request" class="md-nav__link">
    Check status of Data Request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetch-data" title="Fetch data" class="md-nav__link">
    Fetch data
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../how_to/" title="How-To" class="md-nav__link">
      How-To
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../guidelines/" title="Guidelines" class="md-nav__link">
      Guidelines
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../fip_data_api/" title="Sample Test Data" class="md-nav__link">
      Sample Test Data
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../fip_simulator/" title="FIP API Sandbox" class="md-nav__link">
      FIP API Sandbox
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#finvu-fiu-endpoint" title="Finvu FIU Endpoint" class="md-nav__link">
    Finvu FIU Endpoint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" title="Pre-Requisites" class="md-nav__link">
    Pre-Requisites
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-registration-of-user" title="Step 1. Registration of user" class="md-nav__link">
    Step 1. Registration of user
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-headers-to-be-set-for-every-api-request" title="Request headers (To be set for every API request)" class="md-nav__link">
    Request headers (To be set for every API request)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-login-user-to-get-the-api-token" title="Step 2. Login user to get the API token" class="md-nav__link">
    Step 2. Login user to get the API token
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-headers-to-be-set-for-every-api-request_1" title="Request headers (To be set for every API request)" class="md-nav__link">
    Request headers (To be set for every API request)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-consent-template" title="Create a Consent Template" class="md-nav__link">
    Create a Consent Template
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-consent-template" title="Step 1. Create a consent template" class="md-nav__link">
    Step 1. Create a consent template
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-approve-the-consent-template" title="Step 2. Approve the consent template" class="md-nav__link">
    Step 2. Approve the consent template
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-consent-for-user-to-approve" title="Request Consent for user to approve" class="md-nav__link">
    Request Consent for user to approve
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-status-of-consent-request" title="Check status of Consent Request" class="md-nav__link">
    Check status of Consent Request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-request" title="Data request" class="md-nav__link">
    Data request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-status-of-data-request" title="Check status of Data Request" class="md-nav__link">
    Check status of Data Request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fetch-data" title="Fetch data" class="md-nav__link">
    Fetch data
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="integrating-with-finvu-fiu-module">Integrating with Finvu FIU module</h1>
<p>We have built the nuts and bolts and the complexity of the FIU functionality to interact with an AA. This would help you to focus on building your app once you receive the decrypted data. </p>
<p>Our FIU sandbox environment is hosted and available at all times for you to access. </p>
<p>The FIU sandbox is AA agnostic and can interface with any account aggregator, this is done on basis of the handle of the AA user e.g. customer1@finvu will redirect to the 'Finvu AA', customer2@otheraa will redirect requests to the 'Other AA'</p>
<h3 id="finvu-fiu-endpoint">Finvu FIU Endpoint</h3>
<p>The Finvu FIU API root endpoint <code>https://finsense.finvu.in/ConnectHub/FIU/API/V1</code></p>
<h3 id="pre-requisites">Pre-Requisites</h3>
<p>There are some pre-requisites to be done once before the APIs can be used. </p>
<h4 id="step-1-registration-of-user">Step 1. Registration of user</h4>
<p>The URL to call : 
<code>https://finsense.finvu.in/ConnectHub/FIU/API/V1/registerUser</code></p>
<p>Method : <code>POST</code></p>
<h5 id="request-headers-to-be-set-for-every-api-request">Request headers (To be set for every API request)</h5>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
</tbody>
</table>
<p>Sample Request body</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;42c06b9f-cc5b-4a53-9119-9ca9d8e9acdb&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span>  <span class="s2">&quot;2020-06-15T11:03:44.427+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span> <span class="s2">&quot;finsense&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;userName&quot;</span><span class="p">:</span> <span class="s2">&quot;finvutester&quot;</span><span class="p">,</span>
        <span class="nt">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;1234&quot;</span><span class="p">,</span>
        <span class="nt">&quot;confirmPassword&quot;</span><span class="p">:</span> <span class="s2">&quot;1234&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Values to be changed in the body</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>userName</code></td>
<td>Any value</td>
<td>Registration User Name</td>
</tr>
<tr>
<td><code>password</code></td>
<td>Any value</td>
<td>Initital registration password</td>
</tr>
<tr>
<td><code>confirmPassword</code></td>
<td>Any value</td>
<td>Initial Registration password confirmation</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Save the userName and password</p>
<p>Save userName and password as this is required in Step 2. to get the API token.</p>
</div>
<p>Sample Response returns the success message if user is registered. Failure can occur if user is already registered or some other. </p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;42c06b9f-cc5b-4a53-9119-9ca9d8e9acdb&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-06-28T07:35:21.798+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span> <span class="s2">&quot;finsense&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="s2">&quot;User registered successfully&quot;</span>
<span class="p">}</span>
</pre></div>


<h4 id="step-2-login-user-to-get-the-api-token">Step 2. Login user to get the API token</h4>
<p>The URL to call 
<code>https://finsense.finvu.in/ConnectHub/FIU/API/V1/User/Login</code></p>
<p>Method : <code>POST</code></p>
<h5 id="request-headers-to-be-set-for-every-api-request_1">Request headers (To be set for every API request)</h5>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
</tbody>
</table>
<p>Sample Request</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;42c06b9f-cc5b-4a53-9119-9ca9d8e9acdb&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span>  <span class="s2">&quot;2019-07-15T11:03:44.427+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span> <span class="s2">&quot;finsense&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;userId&quot;</span><span class="p">:</span> <span class="s2">&quot;developer1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;1234&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Values to be changed in the body</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>userId</code></td>
<td>Should be valid registered user from Step 1.</td>
<td>This is the userName used during registration in Step 1.</td>
</tr>
<tr>
<td><code>password</code></td>
<td>The valid password set in Step 1.</td>
<td>This is the password set in registration in Step 1.</td>
</tr>
</tbody>
</table>
<p>Sample Response returns the token to be used in the header for subsequent API calls </p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;42c06b9f-cc5b-4a53-9119-9ca9d8e9acdb&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-06-28T07:08:05.118+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span> <span class="s2">&quot;finsense&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;token&quot;</span><span class="p">:</span> <span class="s2">&quot;eyJraWQiOiJyc2ExIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJjb29raWVqYXIiLCJhdWQiOiJjb29raWVqYXIiLCJleHAiOjE1OTMzMjk4ODUsImp0aSI6ImFfUE54Z2JnOVJNZXNubWFTZnBoQ2ciLCJpYXQiOjE1OTMzMjgwODUsIm5iZiI6MTU5MzMyODA4NSwic3ViIjoibXVuaXNoZGVtbyIsInJvbCI6ImRldmVsb3BlciJ9.HmAGw5RgmTOeZV99baZ5iK_rkPtpJr-Ly19dHxoxyZSsRiLhcvqxdJFqYyidzaOnX7YIhMzXS-H1_RDD3XQSMDfHq0PgtptL7Bphg0EfSIaqVlmXEZxnSHFgXyhK-aIiLR4crDhya9sLx-brApr6OrHXH896r9tiyNALxyQpMFomyMIHh3MRzcLNobJzm7RKyi2GR7sLjePKYL48CfOweDlfGP-rmIgQ0ZpOXmgvv-rz95IyTCusMWxeoLfa0KSQ6zunXRQQURJpFwbhNwJe_9cY-aVG4TwS1YkDymsdnlnPuJ6VidifC2TxFyl0yIFz8zwi38e4NdKQzDgH2NK9yw&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<div class="admonition note">
<p class="admonition-title">Save the token</p>
<p>Save the token received in the response body for further API calls.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Token Validity</p>
<p>The token is valid for a period of 3 months. </p>
</div>
<h3 id="create-a-consent-template">Create a Consent Template</h3>
<p>Whenever a consent request is raised, the consent parameters and information needs to be provided. In order to reduce repetitive work, errors and also give flexibility for different customers or channels, a consent template can be created once and be for raising a consent request. This provides ease and flexibility when interaction with the customer and AA. We have provided an API to create a consent template. </p>
<p>We have built-in structural and valid value validations however to further reduce errors, once the consent template is created, the template would require an approval and allow a four-eye check to avoid errors, etc. The approval of the template can be done via an API call.  </p>
<h4 id="step-1-create-a-consent-template">Step 1. Create a consent template</h4>
<p>API to call : 
<code>https://finsense.finvu.in/ConnectHub/FIU/API/V1/ConsentTemplate</code></p>
<p>Method : <code>POST</code></p>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer: token received after calling /User/Login</code></td>
<td>The token that was received after the <code>/User/Login</code> API was called.</td>
</tr>
</tbody>
</table>
<p>Sample Template creation Request</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;f871126b-dd3f-4bb4-be8c-b1911b57a893&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-01-13T12:58:33.501+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;templateName&quot;</span><span class="p">:</span> <span class="s2">&quot;PERIDOIC_DAILY_CONSENT&quot;</span><span class="p">,</span>
                <span class="nt">&quot;templateDescription&quot;</span><span class="p">:</span> <span class="s2">&quot;PERIDOIC_DAILY_CONSENT&quot;</span><span class="p">,</span>
                <span class="nt">&quot;consentMode&quot;</span><span class="p">:</span> <span class="s2">&quot;STORE&quot;</span><span class="p">,</span>
                <span class="nt">&quot;consentTypes&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;PROFILE&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;TRANSACTIONS&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;SUMMARY&quot;</span>
                <span class="p">],</span>
                <span class="nt">&quot;fiTypes&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;DEPOSIT&quot;</span>
                <span class="p">],</span>
                <span class="nt">&quot;Purpose&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;101&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;refUri&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.rebit.org.in/aa/purpose/101.xml&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Wealth management service&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;Category&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Personal Finance&quot;</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="nt">&quot;fetchType&quot;</span><span class="p">:</span> <span class="s2">&quot;PERIODIC&quot;</span><span class="p">,</span>
                <span class="nt">&quot;Frequency&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;DAY&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">5</span>
                <span class="p">},</span>
                <span class="nt">&quot;DataLife&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;YEAR&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">5</span>
                <span class="p">},</span>
                 <span class="nt">&quot;ConsentExpiry&quot;</span><span class="p">:{</span>
                    <span class="nt">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;YEAR&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="mi">5</span>
                <span class="p">},</span>
                <span class="nt">&quot;consentStartDays&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;dataRangeStartMonths&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="nt">&quot;dataRangeEndMonths&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="nt">&quot;approvalStatus&quot;</span><span class="p">:</span> <span class="s2">&quot;pending verification&quot;</span>
            <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<table>
<thead>
<tr>
<th>Field Name</th>
<th>Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>templateName</code></td>
<td>The name of the template which can be alpha numeric</td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>templateDescription</code></td>
<td>Alpha numeric</td>
<td>Brief description of the template</td>
</tr>
<tr>
<td><code>consentMode</code></td>
<td>Allowed values: <code>STORE</code> , <code>VIEW</code>, <code>QUERY</code></td>
<td>Specifies whether the consent mode is view only, store or query.</td>
</tr>
<tr>
<td><code>consentTypes</code></td>
<td>Allowed values: <code>PROFILE</code>, <code>TRANSACTIONS</code>, <code>SUMMARY</code></td>
<td>Specifies the account information that can be fetched with this consent i.e. account profile or summary or transactions</td>
</tr>
<tr>
<td><code>fiTypes</code></td>
<td>Refer to the ReBIT FITypes for possible values <a href="https://api.rebit.org.in/schema">ReBIT Schema</a></td>
<td>This specifies the type of Financial Information that can be fetched with this consent. e.g. Deposit accounts (Savings, Current), recurring deposit, etc.</td>
</tr>
<tr>
<td><code>Purpose</code></td>
<td>Possible values of the Purpose/”code” and Purpose/”text” is given in <a href="https://api.rebit.org.in/purpose">ReBIT Purpose Codes</a></td>
<td>The consent purpose or purpose for which data is being fetched.</td>
</tr>
<tr>
<td><code>fetchType</code></td>
<td>Allowed values: <code>ONETIME</code> or <code>PERIODIC</code></td>
<td>This specifies if the consent can be used once or multiple times i.e. multiple data request can be done or only once</td>
</tr>
<tr>
<td>if <code>ONETIME</code> , then data can be fetched once only.</td>
<td></td>
<td></td>
</tr>
<tr>
<td>if <code>PERIODIC</code>, this consent can be used for multiple data fetches and will be based on the frequency information.</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>Frequency</code></td>
<td><code>unit</code> valid values are HOUR, DAY, MONTH, YEAR <code>value</code> needs to be numeric</td>
<td>This specifies the frequency of consent usage i.e. the frequency of data requests that can be done.  This is specified with 2 components i.e <code>UNIT</code> and <code>VALUE</code> . e.g. if <code>UNIT</code> is <code>HOUR</code> and value is 4 that means data requests can be done 4 times in a HOUR.</td>
</tr>
<tr>
<td><code>DataLife</code></td>
<td><code>unit</code> valid values are <code>DAY</code>, <code>MONTH</code>, <code>YEAR</code>, <code>INF</code>  .  <code>value</code> needs to be numeric</td>
<td>This signifies for how long can data be stored. Value of <code>INF</code> means forever.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Calculated values for Fields</p>
<p>Since this is a template and some of the values need to be calculated when raising a consent request, hence absolute values cannot be provided. For which we have provided fields that help you to define the necessary information for calculation at runtime. </p>
<p>Fields such as the <code>consent expiry</code>, <code>consent start date</code>, <code>data range</code> are calculated based on when the consent request is raised.  </p>
</div>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ConsentExpiry</code></td>
<td><code>unit</code> valid values are DAY, MONTH, YEAR <code>value</code> needs to be numeric</td>
<td>Specifies when the consent will expire and is controlled by the two fields <code>unit</code> and <code>value</code> e.g. If <code>UNIT</code> is YEAR and <code>VALUE</code> is 5, the consent will expire after 5 years. The consentExpiry field in the consent request will have a date and time of 5 years ahead from the instant that the consent is requested.</td>
</tr>
<tr>
<td><code>consentStartDays</code></td>
<td>This has to be a numeric value . (Value of '0' will be taken as current date for the consent request)</td>
<td>This specifies after how many days the consent will start. This gets calculated  when the consent request is raised.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Field Name</th>
<th></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dataRangeStartMonths</code></td>
<td><code>dataRangeEndMonths</code></td>
<td>The datarange field is used to specify the data range of the financial information that will be requested. As part of the consent request the data range should be within the consent start and expiry dates. Both these fields are used in conjunction with each other and specify the data range.  Example: <code>dataRangeStartMonths</code> if 0 and <code>dataRangeEndMonths</code> if 5 is interpreted as the dataRangeStart from currentMonth and until next 5 months.</td>
</tr>
</tbody>
</table>
<h4 id="step-2-approve-the-consent-template">Step 2. Approve the consent template</h4>
<p>This API is used to approve a previously created consent template. </p>
<p>The API to call:
<code>https://finsense.finvu.in/ConnectHub/FIU/API/V1/ApproveConsentTemplate</code></p>
<p>Method : <code>POST</code></p>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer: token received after calling /User/Login</code></td>
<td>The token that was received after the <code>/User/Login</code> API was called.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Bearer Token of the User</p>
<p>This should be the bearer token of the approver user. </p>
</div>
<p>Sample Template approval Request</p>
<div class="codehilite"><pre><span></span>{
    &quot;header&quot;: {
        &quot;rid&quot;: &quot;f871126b-dd3f-4bb4-be8c-b1911b57a893&quot;,
        &quot;ts&quot;: &quot;2020-01-13T12:58:33.501+0000&quot;,
        &quot;channelId&quot;: null
    },
    &quot;body&quot;: {
        &quot;templateName&quot;: &quot;PERIDOIC_DAILY_CONSENT&quot;
    }
}
</pre></div>


<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>templateName</code></td>
<td>The name of the template created in Step 1.</td>
<td>This is the name of the template that needs approval.</td>
</tr>
</tbody>
</table>
<h3 id="request-consent-for-user-to-approve">Request Consent for user to approve</h3>
<p>This API is used to raise a consent request that customer can approve on the Finvu Mobile or Web application.</p>
<p>API to call
https://finsense.finvu.in/ConnectHub/FIU/API/V1/SubmitConsentRequest</p>
<p>Method : <code>POST</code></p>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer: token received after calling /User/Login</code></td>
<td>The token that was received after the <code>/User/Login</code> API was called.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>custId</code></td>
<td>A valid customer AA id</td>
<td>This is the virtual AA id of the customer e.g. customer1@finvu</td>
</tr>
<tr>
<td><code>consentDescription</code></td>
<td>Descriptive Text</td>
<td>Brief description of the consent. e.g. Consent for a loan application</td>
</tr>
<tr>
<td><code>templateName</code></td>
<td>Valid and approved template</td>
<td>This is the name of an approved template.</td>
</tr>
</tbody>
</table>
<p>Sample Response</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;42c06b9f-cc5b-4a53-9119-9ca9d8e9acdb&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-02-21T12:23:14.550+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span> <span class="s2">&quot;finsense&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;custId&quot;</span><span class="p">:</span> <span class="s2">&quot;customer1@finvu&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentHandle&quot;</span><span class="p">:</span> <span class="s2">&quot;0417b382-f5df-4e5a-a372-b489f040bd5f&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentPurpose&quot;</span><span class="p">:</span> <span class="s2">&quot;Wealth management service&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentDescription&quot;</span><span class="p">:</span> <span class="s2">&quot;Wealth Management Service&quot;</span><span class="p">,</span>
        <span class="nt">&quot;requestDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-02-21T12:23:14.562+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentStatus&quot;</span><span class="p">:</span> <span class="s2">&quot;REQUESTED&quot;</span><span class="p">,</span>
        <span class="nt">&quot;requestSessionId&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;requestConsentId&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;dateTimeRangeFrom&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-01-01T06:47:45.557+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;dateTimeRangeTo&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-01-31T06:47:45.560+0000&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="check-status-of-consent-request">Check status of Consent Request</h3>
<p>This API is used to check the status of a previously raised consent request that is awaiting customer approval. </p>
<p>API to call
https://finsense.finvu.in/ConnectHub/FIU/API/V1/ConsentStatus/<consentHandleId>/<custAAId></p>
<p>Method : <code>GET</code></p>
<p>PARAMETERS: <code>consentHandleId</code> The consentHandleId when raising a consent Request
<code>custAAId</code> The Customer AA id</p>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer: token received after calling /User/Login</code></td>
<td>The token that was received after the <code>/User/Login</code> API was called.</td>
</tr>
</tbody>
</table>
<p>Sample Response</p>
<div class="codehilite"><pre><span></span> <span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;5c9d403d-d9c1-4177-b27e-3aca5a660938&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-15T11:03:44.427+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span>  <span class="s2">&quot;netbanking&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;consentStatus&quot;</span><span class="p">:</span> <span class="s2">&quot;ACCEPTED&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentId&quot;</span><span class="p">:</span> <span class="mf">117e8942</span><span class="mi">-1605-4</span><span class="err">b</span><span class="mi">75</span><span class="err">-b</span><span class="mi">2</span><span class="err">db</span><span class="mi">-4</span><span class="err">b</span><span class="mi">8</span><span class="err">c</span><span class="mi">953</span><span class="err">abeae</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The <code>consentStatus</code> are as below </p>
<div class="codehilite"><pre><span></span>|  Return Status            |   Description |
| -------------             |-------------|
| PENDING                   | Status is pending and consentId is not generated at AA side.
| ACCEPTED                  | Status is approved and consentId is generated at AA side and available in the response
| REJECTED                  | Status is rejected. User has rejected the consent request. Consent id is not generated at AA side.
</pre></div>


<h3 id="data-request">Data request</h3>
<p>If consent is ACCEPTED then a data request can be made. When the FI DataRquest is called, the request goes to FIRquest of AA then AA sends notification when Data is ready to FIU. In the response it sends sessionId using which data fetch api can be called.</p>
<p>URL to call 
<code>https://finsense.finvu.in/ConnectHub/FIU/API/V1/FIRequest</code></p>
<p>Method: <code>POST</code></p>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer: token received after calling /User/Login</code></td>
<td>The token that was received after the <code>/User/Login</code> API was called.</td>
</tr>
</tbody>
</table>
<p>Sample Request body</p>
<div class="codehilite"><pre><span></span><span class="err">Request:</span>
<span class="p">{</span>

    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;42c06b9f-cc5b-4a53-9119-9ca9d8e9acdb&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span>  <span class="s2">&quot;2019-07-15T11:03:44.427+0000&quot;</span><span class="p">,</span>
              <span class="nt">&quot;channelId&quot;</span><span class="p">:</span>  <span class="s2">&quot;netbanking&quot;</span>

    <span class="p">},</span>

    <span class="nt">&quot;body&quot;</span><span class="p">:{</span>

        <span class="nt">&quot;custId&quot;</span><span class="p">:</span> <span class="s2">&quot;customer1@finvu&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentId&quot;</span><span class="p">:</span> <span class="s2">&quot;117e8942-1605-4b75-b2db-4b8c953abeae&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentHandleId&quot;</span><span class="p">:</span><span class="s2">&quot;6fa1b74b-62b8-48dd-be2d-696b978aaf8f&quot;</span><span class="p">,</span>
        <span class="nt">&quot;dateTimeRangeFrom&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-09-30T08:10:45.006+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;dateTimeRangeTo&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-30T08:10:45.006+0000&quot;</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>


<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>custId</code></td>
<td>A valid customer AA id</td>
<td>This is the virtual AA id of the customer e.g. customer1@finvu</td>
</tr>
<tr>
<td><code>consentId</code></td>
<td>An ACCEPTED consent by the customer</td>
<td>This is the consent Id received when a consent request is ACCEPTED.</td>
</tr>
<tr>
<td><code>dateTimeRangeFrom</code></td>
<td>A valid dateTimeFrom</td>
<td>The from data range for which data is requested. This should be within the data range of the consent.</td>
</tr>
<tr>
<td><code>dateTimeRangeTo</code></td>
<td>A valid dateTimeFrom</td>
<td>The to data range for which data is requested. This should be within the data range of the consent.</td>
</tr>
</tbody>
</table>
<p>e.g. This can be for 1 month, or 6 months , etc.    </p>
<p>Sample response. This returns a Session id for the request. </p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;41f44ca2-4b9a-4310-b6a0-eaaa1349bdd6&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-15T11:08:21.722+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span>  <span class="s2">&quot;finsense&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;ver&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
        <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-15T11:08:21.404+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;txnid&quot;</span><span class="p">:</span> <span class="s2">&quot;eeddca07-bccb-4808-8b4a-573322223566&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentId&quot;</span><span class="p">:</span> <span class="s2">&quot;117e8942-1605-4b75-b2db-4b8c953abeae&quot;</span><span class="p">,</span>
        <span class="nt">&quot;sessionId&quot;</span><span class="p">:</span> <span class="s2">&quot;eeb30580-3740-42c4-887b-3f08b929be58&quot;</span><span class="p">,</span>
        <span class="nt">&quot;consentHandleId&quot;</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<div class="admonition note">
<p class="admonition-title">The Session id for status</p>
<p>The session id is used for checking the status of the data request.</p>
</div>
<h3 id="check-status-of-data-request">Check status of Data Request</h3>
<p>This API retrieves the status of the previously sent FIDataRequest.</p>
<p>FIStatus api is called to check whether data is ready or not. If data is ready fiRequestStatus is set to READY or else fiRequestStatus is set to PENDING.</p>
<p>When the fiRequestStatus is READY, it means that the AA has sent the data to Finsense FIU and FIU has stored the data and ready for channel to fetch. The channel can then call the FIFetch API to retrieve the data into channel.</p>
<p>API to call
https://finsense.finvu.in/ConnectHub/FIU/API/V1/ConsentStatus/<consentHandleId>/<custAAId></p>
<p>Method : <code>GET</code></p>
<p>PARAMETERS: <code>consentHandleId</code> The consentHandleId when raising a consent Request
<code>custAAId</code> The Customer AA id</p>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer: token received after calling /User/Login</code></td>
<td>The token that was received after the <code>/User/Login</code> API was called.</td>
</tr>
</tbody>
</table>
<p>Sample Response</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;7e61e4d8-f9db-488b-848e-331db1c90f16&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-15T11:10:32.987+0000&quot;</span><span class="p">,</span>
        <span class="nt">&quot;channelId&quot;</span><span class="p">:</span>  <span class="s2">&quot;netbanking&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fiRequestStatus&quot;</span><span class="p">:</span> <span class="s2">&quot;PENDING&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The <code>fiRequestStatus</code> are as below </p>
<div class="codehilite"><pre><span></span>|  Return Status            |   Description |
| -------------             |-------------|
| PENDING                   | Requested data IS NOT ready to fetch.
| READY                 | Requested data IS ready to fetch.
</pre></div>


<h3 id="fetch-data">Fetch data</h3>
<p>This API is used to fetch the data from Finsense FIU when the call to FIStatus API returns READY in the fiRequestStatus field.</p>
<p>API to call
<code>https://finsense.finvu.in/ConnectHub/FIU/API/V1/IFetch/&lt;custId&gt;/&lt;consentId&gt;/&lt;sessionId&gt;</code></p>
<p>e.g. https://finsense.finvu.in/ConnectHub/FIU/API/V1/FIFetch/customer1@finvu.in/117e8942-1605-4b75-b2db-4b8c953abeae/eeb30580-3740-42c4-887b-3f08b929be58</p>
<p>METHOD: <code>GET</code></p>
<p>Below <code>HTTP</code> headers need to be set when calling the API</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content-Type</code></td>
<td><code>application/json</code></td>
<td>API request and response are in JSON format</td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer: token received after calling /User/Login</code></td>
<td>The token that was received after the <code>/User/Login</code> API was called.</td>
</tr>
</tbody>
</table>
<p>The request parameters
  |  Field          |   Value       |   Description |
  | ------------- |-------------|-------------|
  | <code>custId</code> | A valid customer AA id | This is the virtual AA id of the customer e.g. customer1@finvu
  | <code>consentId</code> | An ACCEPTED consent by the customer. | This is the consent Id received when a consent request is ACCEPTED.
  | <code>sessionId</code> | The sessionId returned for a submitted data request | The session id used to track the data request for a previously submitted data request.</p>
<p>Sample Response of the fetch returns the decrypted data</p>
<div class="codehilite"><pre><span></span><span class="err">Response:</span>
<span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;rid&quot;</span><span class="p">:</span> <span class="s2">&quot;b9da6b54-fa90-42eb-8994-ef3d106de01e&quot;</span><span class="p">,</span>
        <span class="nt">&quot;ts&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-12-23T09:00:47.423+0000&quot;</span><span class="p">,</span>
                 <span class="nt">&quot;channelId&quot;</span><span class="p">:</span>  <span class="s2">&quot;finsense&quot;</span>
<span class="p">},</span>
<span class="nt">&quot;body&quot;</span><span class="p">:</span> <span class="p">[</span>
   <span class="p">{</span>
     <span class="nt">&quot;fiObjects&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
           <span class="nt">&quot;Transactions&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="nt">&quot;Transaction&quot;</span><span class="p">:</span> <span class="p">[</span>
                   <span class="p">{</span>
                      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DEBIT&quot;</span><span class="p">,</span>
                      <span class="nt">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;ATM&quot;</span><span class="p">,</span>
                      <span class="nt">&quot;amount&quot;</span><span class="p">:</span> <span class="mi">6036</span><span class="p">,</span>
                      <span class="nt">&quot;currentBalance&quot;</span><span class="p">:</span> <span class="s2">&quot;322644.09&quot;</span><span class="p">,</span>
                      <span class="nt">&quot;transactionTimestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-08T00:00:00.000+0000&quot;</span><span class="p">,</span>
                      <span class="nt">&quot;valueDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-08T00:00:00.000+0000&quot;</span><span class="p">,</span>
                      <span class="nt">&quot;txnId&quot;</span><span class="p">:</span> <span class="s2">&quot;2edce6c8-28f3-462d-8a69-12b84337c165&quot;</span><span class="p">,</span>
                      <span class="nt">&quot;narration&quot;</span><span class="p">:</span> <span class="s2">&quot;ATW-532676XXXXXX3613-S1AWDD47-DELHI&#39;&quot;</span><span class="p">,</span>
              <span class="nt">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;REF6857423&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                       <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CREDIT&quot;</span><span class="p">,</span>
                       <span class="nt">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;ATM&quot;</span><span class="p">,</span>
                       <span class="nt">&quot;amount&quot;</span><span class="p">:</span> <span class="mi">10500</span><span class="p">,</span>
                       <span class="nt">&quot;currentBalance&quot;</span><span class="p">:</span> <span class="s2">&quot;312144.09&quot;</span><span class="p">,</span>
                       <span class="nt">&quot;transactionTimestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-12T00:00:00.000+0000&quot;</span><span class="p">,</span>
                       <span class="nt">&quot;valueDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-12T00:00:00.000+0000&quot;</span><span class="p">,</span>
                       <span class="nt">&quot;txnId&quot;</span><span class="p">:</span> <span class="s2">&quot;e7d0cbe4-f1c3-4972-be28-432474ac9f71&quot;</span><span class="p">,</span>
                       <span class="nt">&quot;narration&quot;</span><span class="p">:</span> <span class="s2">&quot;CREDIT INTEREST CAPITALISED&quot;</span><span class="p">,</span>
                       <span class="nt">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;REF6857423&quot;</span>
                     <span class="p">}</span>
                <span class="p">],</span>
               <span class="nt">&quot;startDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2004-04-12T00:00:00.000+0000&quot;</span><span class="p">,</span>
              <span class="nt">&quot;endDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2004-04-12T00:00:00.000+0000&quot;</span>
        <span class="p">},</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DEPOSIT&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;maskedAccNumber&quot;</span><span class="p">:</span> <span class="s2">&quot;BOB6857423&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;linkedAccRef&quot;</span><span class="p">:</span> <span class="s2">&quot;REF6857423&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.1&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;Summary&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;SAVINGS&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;branch&quot;</span><span class="p">:</span> <span class="s2">&quot;Pune&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;facility&quot;</span><span class="p">:</span> <span class="s2">&quot;CC&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;ifscCode&quot;</span><span class="p">:</span> <span class="s2">&quot;SBIN0000454&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;micrCode&quot;</span><span class="p">:</span> <span class="s2">&quot;411002001&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;openingDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2018-04-01&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;currentODLimit&quot;</span><span class="p">:</span> <span class="s2">&quot;120045&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;drawingLimit&quot;</span><span class="p">:</span> <span class="s2">&quot;20000&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;Pending&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;amount&quot;</span><span class="p">:</span> <span class="mi">20</span>
                        <span class="p">},</span>
                        <span class="nt">&quot;currentBalance&quot;</span><span class="p">:</span> <span class="s2">&quot;175614.64&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;currency&quot;</span><span class="p">:</span> <span class="s2">&quot;INR&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;exchgeRate&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;balanceDateTime&quot;</span><span class="p">:</span> <span class="s2">&quot;2004-04-12T18:20:00.000+0000&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ACTIVE&quot;</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;schemaLocation&quot;</span><span class="p">:</span> <span class="s2">&quot;http://api.rebit.org.in/FISchema/deposit ../FISchema/deposit.xsd&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;Profile&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;Holders&quot;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;JOINT&quot;</span><span class="p">,</span>
                            <span class="nt">&quot;Holder&quot;</span><span class="p">:</span> <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Gopika Nikam&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;dob&quot;</span><span class="p">:</span> <span class="s2">&quot;1994-09-24&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;mobile&quot;</span><span class="p">:</span> <span class="s2">&quot;9834795713&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;nominee&quot;</span><span class="p">:</span> <span class="s2">&quot;NOT-REGISTERED&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;gopikan@fourcloud.in&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;pan&quot;</span><span class="p">:</span> <span class="s2">&quot;APS415263&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;ckycCompliance&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="nt">&quot;fipId&quot;</span><span class="p">:</span> <span class="s2">&quot;BARB0KIMXXX&quot;</span><span class="p">,</span>
            <span class="nt">&quot;custId&quot;</span><span class="p">:</span> <span class="s2">&quot;gopika@finvu&quot;</span><span class="p">,</span>
            <span class="nt">&quot;consentId&quot;</span><span class="p">:</span> <span class="s2">&quot;654401e2-9db2-4d6e-b23a-129c169dad81&quot;</span><span class="p">,</span>
            <span class="nt">&quot;sessionId&quot;</span><span class="p">:</span> <span class="s2">&quot;eb9db8e2-3f9a-42c1-ba12-e7cc0fe637d5&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../finvu_aa_integration/" title="Integration with Finvu AA" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Integration with Finvu AA
              </span>
            </div>
          </a>
        
        
          <a href="../how_to/" title="How-To" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                How-To
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 - 2020 Cookiejar Technologies Pvt Ltd.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>